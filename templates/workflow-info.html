{% extends 'user-base.html' %}
  
{% load static %}

{% block title %}
Workflow {{ workflow.id }}
{% endblock %}

{% block javascript %}
{% endblock %}

{% block contentuser %}
<h2><a href="#" onclick="history.go(-1)"><i class="feather-32" data-feather="arrow-left"></i></a>Workflow {{ workflow.id }}
{% if workflow.name %}
: {{ workflow.name }}
{% endif %}
</h2>

<b>Status</b>
<br/>
{% if workflow.status == "running" %}
<i class="text-primary fa fa-repeat" aria-hidden="true"></i> Running
{% elif workflow.status == "failed" %}
<i class="text-danger fa fa-exclamation-circle" aria-hidden="true"></i> Failed
{% elif workflow.status == "deleted" %}
<i class="text-secondary fa fa-minus-circle" aria-hidden="true"></i> Deleted
{% elif workflow.status == "killed" %}
<i class="text-warning fa fa-exclamation-circle" aria-hidden="true"></i> Killed
{% elif workflow.status == "pending" %}
<i class="text-info fa fa-circle" aria-hidden="true"></i> Pending
{% elif workflow.status == "completed" %}
<i class="text-success fa fa-check-circle" aria-hidden="true"></i> Completed
{% endif %}

{% if workflow.statusReason %}
<br/>
<br/>
<b>Status reason</b>
<br/>
{{ workflow.statusReason }}
{% endif %}

<br/>
<br/>
<b>Jobs progress</b>
<table>
	<tr>
		<td style="padding-left:10px"><b>Total</b></b></td><td style="padding-left:20px">{{ workflow.progress.total }}</td>
	</tr>
	<tr>
		<td style="padding-left:10px"><b>Done</b></td><td style="padding-left:20px">{{ workflow.progress.done }}</td>
	</tr>
	<tr>
		<td style="padding-left:10px"><b>Failed</b></td><td style="padding-left:20px">{{ workflow.progress.failed }}</td>
	</tr>
	<tr>
		<td style="padding-left:10px"><b>Queued</b></td><td style="padding-left:20px">{{ workflow.progress.queued }}</td>
	</tr>
	<tr>
		<td style="padding-left:10px"><b>Waiting</b></td><td style="padding-left:20px">{{ workflow.progress.waiting }}</td>
	</tr>
</table>

<br/>
<b>Labels</b>
<br/>
{% for label in workflow.labels %}
{{ label }}: {{ workflow.labels.label }}
{% empty %}
None
{% endfor %}

<br/>
<br/>
<b>Events</b>
<br/>
<table>
  <tr><td style="padding-left:10px"><b>Created</b></td><td style="padding-left:20px">{{ workflow.events.createTime }}</td></tr>
  <tr><td style="padding-left:10px"><b>Start time</b></td><td style="padding-left:20px">{{ workflow.events.startTime }}</td></tr>
  <tr><td style="padding-left:10px"><b>End time</b></td><td style="padding-left:20px">{{ workflow.events.endTime }}</td></tr>
</table>

<br/>
<br/>

{% endblock %}
